{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/lihongshen/Downloads/2022 \\u7528\\u9762\\u8A66\\u8CC7\\u6599/React-Blog/src/pages/NewPostPage/NewPostPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { newPost } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport ButtonDefault from \"../../share/button/ButtonDefault\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectLoader, toggleOpen, toggleOff } from \"../../redux/loaderSlice\";\nconst ErrorMessage = styled.div`\n  color: red;\n`;\n_c = ErrorMessage;\nconst NewPostPageWrapper = styled.div`\n  margin-top: 20vh;\n  font-size: 20px;\n  text-align: center;\n  /* border:2px solid red; */\n  margin-left: auto;\n  margin-right: auto;\n`;\n_c2 = NewPostPageWrapper;\nconst Info = styled.div`\n  margin: 0px auto;\n  letter-spacing: 3px;\n  text-align: left;\n  width:50%;\n  font-size: 16px;\n`;\n_c3 = Info;\nconst User = styled.div`\n  margin-bottom: 40px;\n  text-align: center;\n  width:100%;\n`;\n_c4 = User;\nconst Textarea = styled.textarea`\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  text-align: left;\n  width:50%;\n`;\n_c5 = Textarea;\nexport default function NewPostPage() {\n  _s();\n\n  const {\n    user\n  } = useContext(AuthContext);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const handleLoader = useSelector(selectLoader);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setErrorMessage(null);\n    dispatch(toggleOpen());\n    newPost(title, content).then(data => {\n      if (data.ok === 0) {\n        setErrorMessage(data.message);\n      }\n\n      dispatch(toggleOff());\n      history.push(\"/\");\n    });\n  };\n\n  if (!user) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(NewPostPageWrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(User, {\n        children: [\"\\u55E8\\uFF0C\", user.username, \"\\uFF0C\\u6709\\u4EC0\\u9EBC\\u8A71\\u8981\\u544A\\u8A34\\u5927\\u5BB6\\u7684\\u55CE\\uFF1F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Info, {\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        cols: \"50\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Info, {\n        children: \"Content:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n        rows: \"10\",\n        cols: \"50\",\n        value: content,\n        onChange: e => setContent(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonDefault, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewPostPage, \"8g8afspg85FyKHHR/S2eQt+UNuo=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c6 = NewPostPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"ErrorMessage\");\n$RefreshReg$(_c2, \"NewPostPageWrapper\");\n$RefreshReg$(_c3, \"Info\");\n$RefreshReg$(_c4, \"User\");\n$RefreshReg$(_c5, \"Textarea\");\n$RefreshReg$(_c6, \"NewPostPage\");","map":{"version":3,"sources":["/Users/lihongshen/Downloads/2022 用面試資料/React-Blog/src/pages/NewPostPage/NewPostPage.js"],"names":["React","useState","useContext","newPost","AuthContext","styled","useHistory","ButtonDefault","useDispatch","useSelector","selectLoader","toggleOpen","toggleOff","ErrorMessage","div","NewPostPageWrapper","Info","User","Textarea","textarea","NewPostPage","user","title","setTitle","content","setContent","errorMessage","setErrorMessage","history","dispatch","handleLoader","handleSubmit","e","preventDefault","then","data","ok","message","push","username","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { newPost } from \"../../WebAPI\";\nimport { AuthContext } from \"../../contexts\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport ButtonDefault from \"../../share/button/ButtonDefault\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectLoader, toggleOpen, toggleOff } from \"../../redux/loaderSlice\";\n\n\nconst ErrorMessage = styled.div`\n  color: red;\n`;\nconst NewPostPageWrapper = styled.div`\n  margin-top: 20vh;\n  font-size: 20px;\n  text-align: center;\n  /* border:2px solid red; */\n  margin-left: auto;\n  margin-right: auto;\n`;\nconst Info = styled.div`\n  margin: 0px auto;\n  letter-spacing: 3px;\n  text-align: left;\n  width:50%;\n  font-size: 16px;\n`;\nconst User = styled.div`\n  margin-bottom: 40px;\n  text-align: center;\n  width:100%;\n`;\nconst Textarea = styled.textarea`\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  text-align: left;\n  width:50%;\n`;\n\nexport default function NewPostPage() {\n  const { user } = useContext(AuthContext);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n  const dispatch = useDispatch()\n  const handleLoader = useSelector(selectLoader)\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrorMessage(null);\n    dispatch(toggleOpen())\n    newPost(title, content).then((data) => {\n      if (data.ok === 0) {\n        setErrorMessage(data.message);\n      }\n      dispatch(toggleOff())\n      history.push(\"/\");\n    });\n  };\n  if (!user) {\n    return null;\n  }\n  return (\n    <NewPostPageWrapper>\n      <form onSubmit={handleSubmit}>\n        <User>嗨，{user.username}，有什麼話要告訴大家的嗎？</User>\n        <Info>Title:</Info>\n        <Textarea\n          cols=\"50\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <Info>Content:</Info>\n        <Textarea\n          rows=\"10\"\n          cols=\"50\"\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n        />\n        <ButtonDefault></ButtonDefault>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </form>\n    </NewPostPageWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}