{"ast":null,"code":"import _slicedToArray from\"/Users/lihongshen/Downloads/2022 \\u7528\\u9762\\u8A66\\u8CC7\\u6599/React-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/lihongshen/Downloads/2022 \\u7528\\u9762\\u8A66\\u8CC7\\u6599/React-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  min-height:90vh;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  width:100%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect}from\"react\";import styled from\"styled-components\";import{HashRouter as Router,Switch,Route}from\"react-router-dom\";import{getMe}from\"../WebAPI\";import RegisterPage from\"../pages/RegisterPage\";// import AboutMePage from \"../pages/AboutMePage\";\nimport LoginPage from\"../pages/LoginPage\";import HomePage from\"../pages/HomePage\";import PostPage from\"../pages/PostPage\";import NewPostPage from\"../pages/NewPostPage\";import Header from\"./Header\";import Footer from\"./Footer\";import{AuthContext}from\"../contexts\";import\"../App.css\";import{useSelector}from\"react-redux\";import{selectLoader}from\"../redux/loaderSlice\";import Loader from\"./Loader/Loader\";var Root=styled.div(_templateObject());var SpaceDistrubution=styled.div(_templateObject2());var Space=styled.div(_templateObject3());function App(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var handleLoader=useSelector(selectLoader);useEffect(function(){getMe().then(function(response){if(response.ok){setUser(response.data);}});},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user:user,setUser:setUser},children:/*#__PURE__*/_jsx(Root,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(SpaceDistrubution,{children:[handleLoader&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Space,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/post/:id\",children:/*#__PURE__*/_jsx(PostPage,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/newPost\",children:/*#__PURE__*/_jsx(NewPostPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",children:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(LoginPage,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]})})})});}export default App;","map":{"version":3,"sources":["/Users/lihongshen/Downloads/2022 用面試資料/React-Blog/src/components/App.js"],"names":["React","useEffect","styled","HashRouter","Router","Switch","Route","getMe","RegisterPage","LoginPage","HomePage","PostPage","NewPostPage","Header","Footer","AuthContext","useSelector","selectLoader","Loader","Root","div","SpaceDistrubution","Space","App","useState","user","setUser","handleLoader","then","response","ok","data"],"mappings":"8/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,UAAU,GAAIC,CAAAA,MAAvB,CAA+BC,MAA/B,CAAuCC,KAAvC,KAAoD,kBAApD,CACA,OAASC,KAAT,KAAsB,WAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA;AACA,MAAOC,CAAAA,SAAP,KAAsB,oBAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,YAAP,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CAEA,GAAMC,CAAAA,IAAI,CAAGjB,MAAM,CAACkB,GAAV,mBAAV,CAEA,GAAMC,CAAAA,iBAAiB,CAAGnB,MAAM,CAACkB,GAAV,oBAAvB,CAMA,GAAME,CAAAA,KAAK,CAAGpB,MAAM,CAACkB,GAAV,oBAAX,CAIA,QAASG,CAAAA,GAAT,EAAe,qBACWvB,KAAK,CAACwB,QAAN,CAAe,IAAf,CADX,oDACNC,IADM,qBACAC,OADA,qBAEb,GAAMC,CAAAA,YAAY,CAAGX,WAAW,CAACC,YAAD,CAAhC,CAEAhB,SAAS,CAAC,UAAM,CACdM,KAAK,GAAGqB,IAAR,CAAa,SAACC,QAAD,CAAc,CACzB,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACfJ,OAAO,CAACG,QAAQ,CAACE,IAAV,CAAP,CACD,CACF,CAJD,EAKD,CANQ,CAMN,EANM,CAAT,CAQA,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEN,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAA7B,uBACE,KAAC,IAAD,wBACE,KAAC,MAAD,wBACE,MAAC,iBAAD,YACGC,YAAY,eAAI,KAAC,MAAD,IADnB,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,KAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,QAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACE,KAAC,QAAD,IADF,EAJF,cAUE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,uBACE,KAAC,WAAD,IADF,EAVF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACE,KAAC,YAAD,IADF,EAbF,cAgBE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,uBACE,KAAC,SAAD,IADF,EAhBF,GADF,EAHF,cAyBE,KAAC,MAAD,IAzBF,GADF,EADF,EADF,EADF,CAmCD,CAED,cAAeJ,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { getMe } from \"../WebAPI\";\nimport RegisterPage from \"../pages/RegisterPage\";\n// import AboutMePage from \"../pages/AboutMePage\";\nimport LoginPage from \"../pages/LoginPage\";\nimport HomePage from \"../pages/HomePage\";\nimport PostPage from \"../pages/PostPage\";\nimport NewPostPage from \"../pages/NewPostPage\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport { AuthContext } from \"../contexts\";\nimport \"../App.css\";\nimport { useSelector } from \"react-redux\";\nimport { selectLoader } from \"../redux/loaderSlice\";\nimport Loader from \"./Loader/Loader\";\n\nconst Root = styled.div`\n`;\nconst SpaceDistrubution = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width:100%;\n`;\nconst Space = styled.div`\n  min-height:90vh;\n`;\n\nfunction App() {\n  const [user, setUser] = React.useState(null);\n  const handleLoader = useSelector(selectLoader)\n \n  useEffect(() => {\n    getMe().then((response) => {\n      if (response.ok) {\n        setUser(response.data);\n      }\n    });\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <SpaceDistrubution>\n            {handleLoader && <Loader/>}\n            <Header />\n            <Space>\n              <Switch>\n                <Route exact path=\"/\">\n                  <HomePage />\n                </Route>\n                <Route path=\"/post/:id\">\n                  <PostPage />\n                </Route>\n                {/* <Route exact path=\"/aboutMe\">\n                  <AboutMePage />\n                </Route> */}\n                <Route exact path=\"/newPost\">\n                  <NewPostPage />\n                </Route>\n                <Route path=\"/register\">\n                  <RegisterPage />\n                </Route>\n                <Route path=\"/login\">\n                  <LoginPage />\n                </Route>\n              </Switch>\n            </Space>\n            <Footer />\n          </SpaceDistrubution>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}