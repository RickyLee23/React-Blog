{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/lihongshen/Downloads/2022 \\u7528\\u9762\\u8A66\\u8CC7\\u6599/React-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  @media (max-width: 700px) {\\n    justify-content: space-around;\\n  }\\n  display: flex;\\n  justify-content: right;\\n  width:100%;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  @media (max-width: 700px) {\\n      display: none;\\n  }\\n  display: flex;\\n  align-items: center;\\n  \\n  \"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  @media (max-width: 600px) {\\n    margin: 10px 10px;\\n    font-size: 8px;\\n  }\\n  margin: 0px 20px;\\n  text-decoration: none;\\n  color: black;\\n  cursor: pointer;\\n  font-size: 11px;  \\n  color: #aaaaaa;\\n  text-transform: uppercase;\\n  letter-spacing: 3px;\\n  \",\"\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  font-size: 25px;\\n  margin-left: 20px;\\n  margin-right: 40px;\\n  font-weight: 800;\\n  text-transform: uppercase;\\n  \"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  height: 10vh;\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  background-color: #fff;\\n  z-index:1;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useContext}from\"react\";import styled from\"styled-components\";import{Link,useLocation,useHistory}from\"react-router-dom\";import{AuthContext}from\"../../contexts\";import{setAuthToken}from\"../../utils\";var HeaderContainer=styled.div(_templateObject());var Brand=styled.span(_templateObject2());var Block=styled(Link)(_templateObject3(),function(props){return props.$active&&\"\\n    color:black;\\n    \";});var NavSection1=styled.div(_templateObject4());var NavSection2=styled.div(_templateObject5());export default function Header(){var history=useHistory();var location=useLocation();//現在處於的 url\nvar _useContext=useContext(AuthContext),user=_useContext.user,setUser=_useContext.setUser;var handleLogout=function handleLogout(){setAuthToken(\"\");setUser(\"\");if(location.pathname!==\"/\"){history.push(\"/\");}};return/*#__PURE__*/_jsxs(HeaderContainer,{children:[/*#__PURE__*/_jsx(NavSection1,{children:/*#__PURE__*/_jsx(Brand,{children:\"Your first blog.\"})}),/*#__PURE__*/_jsxs(NavSection2,{children:[/*#__PURE__*/_jsx(Block,{to:\"/\",$active:location.pathname===\"/\",children:\"Home\"}),user&&/*#__PURE__*/_jsx(Block,{to:\"/newPost\",$active:location.pathname===\"/newPost\",children:\"post\"}),/*#__PURE__*/_jsx(Block,{to:\"/register\",$active:location.pathname===\"/register\",children:\"Register\"}),!user&&/*#__PURE__*/_jsx(Block,{to:\"/login\",$active:location.pathname===\"/login\",children:\"Login\"}),user&&/*#__PURE__*/_jsx(Block,{to:\"/login\",onClick:handleLogout,children:\"Logout\"})]})]});}","map":{"version":3,"sources":["/Users/lihongshen/Downloads/2022 用面試資料/React-Blog/src/components/Header/Header.js"],"names":["React","useContext","styled","Link","useLocation","useHistory","AuthContext","setAuthToken","HeaderContainer","div","Brand","span","Block","props","$active","NavSection1","NavSection2","Header","history","location","user","setUser","handleLogout","pathname","push"],"mappings":"8vDAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,IAAT,CAAeC,WAAf,CAA4BC,UAA5B,KAA8C,kBAA9C,CACA,OAASC,WAAT,KAA4B,gBAA5B,CACA,OAASC,YAAT,KAA6B,aAA7B,CAEA,GAAMC,CAAAA,eAAe,CAAGN,MAAM,CAACO,GAAV,mBAArB,CAUA,GAAMC,CAAAA,KAAK,CAAGR,MAAM,CAACS,IAAV,oBAAX,CAOA,GAAMC,CAAAA,KAAK,CAAGV,MAAM,CAACC,IAAD,CAAT,oBAaP,SAACU,KAAD,QACAA,CAAAA,KAAK,CAACC,OAAN,4BADA,EAbO,CAAX,CAoBA,GAAMC,CAAAA,WAAW,CAAGb,MAAM,CAACO,GAAV,oBAAjB,CASA,GAAMO,CAAAA,WAAW,CAAGd,MAAM,CAACO,GAAV,oBAAjB,CASA,cAAe,SAASQ,CAAAA,MAAT,EAAkB,CAC/B,GAAMC,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CACA,GAAMc,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAAgC;AAFD,gBAGLH,UAAU,CAACK,WAAD,CAHL,CAGvBc,IAHuB,aAGvBA,IAHuB,CAGjBC,OAHiB,aAGjBA,OAHiB,CAK/B,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBf,YAAY,CAAC,EAAD,CAAZ,CACAc,OAAO,CAAC,EAAD,CAAP,CACA,GAAIF,QAAQ,CAACI,QAAT,GAAsB,GAA1B,CAA+B,CAC7BL,OAAO,CAACM,IAAR,CAAa,GAAb,EACD,CACF,CAND,CAQA,mBACE,MAAC,eAAD,yBACE,KAAC,WAAD,wBACE,KAAC,KAAD,+BADF,EADF,cAIE,MAAC,WAAD,yBACA,KAAC,KAAD,EAAO,EAAE,CAAC,GAAV,CAAc,OAAO,CAAEL,QAAQ,CAACI,QAAT,GAAsB,GAA7C,kBADA,CAOCH,IAAI,eACL,KAAC,KAAD,EAAO,EAAE,CAAC,UAAV,CAAqB,OAAO,CAAED,QAAQ,CAACI,QAAT,GAAsB,UAApD,kBARA,cAYA,KAAC,KAAD,EAAO,EAAE,CAAC,WAAV,CAAsB,OAAO,CAAEJ,QAAQ,CAACI,QAAT,GAAsB,WAArD,sBAZA,CAeC,CAACH,IAAD,eACD,KAAC,KAAD,EAAO,EAAE,CAAC,QAAV,CAAmB,OAAO,CAAED,QAAQ,CAACI,QAAT,GAAsB,QAAlD,mBAhBA,CAoBCH,IAAI,eACL,KAAC,KAAD,EAAO,EAAE,CAAC,QAAV,CAAmB,OAAO,CAAEE,YAA5B,oBArBA,GAJF,GADF,CAiCD","sourcesContent":["import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts\";\nimport { setAuthToken } from \"../../utils\";\n\nconst HeaderContainer = styled.div`\n  position: fixed;\n  height: 10vh;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #fff;\n  z-index:1;\n  `;\nconst Brand = styled.span`\n  font-size: 25px;\n  margin-left: 20px;\n  margin-right: 40px;\n  font-weight: 800;\n  text-transform: uppercase;\n  `;\nconst Block = styled(Link)`\n  @media (max-width: 600px) {\n    margin: 10px 10px;\n    font-size: 8px;\n  }\n  margin: 0px 20px;\n  text-decoration: none;\n  color: black;\n  cursor: pointer;\n  font-size: 11px;  \n  color: #aaaaaa;\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  ${(props) =>\n    props.$active &&\n    `\n    color:black;\n    `}\n`;\n\nconst NavSection1 = styled.div`\n  @media (max-width: 700px) {\n      display: none;\n  }\n  display: flex;\n  align-items: center;\n  \n  `;\n\nconst NavSection2 = styled.div`\n  @media (max-width: 700px) {\n    justify-content: space-around;\n  }\n  display: flex;\n  justify-content: right;\n  width:100%;\n`;\n\nexport default function Header() {\n  const history = useHistory();\n  const location = useLocation(); //現在處於的 url\n  const { user, setUser } = useContext(AuthContext);\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(\"\");\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <HeaderContainer>\n      <NavSection1>\n        <Brand>Your first blog.</Brand>\n      </NavSection1>\n      <NavSection2>\n      <Block to=\"/\" $active={location.pathname === \"/\"}>\n        Home\n      </Block>\n      {/* <Block to=\"/aboutMe\" $active={location.pathname === \"/aboutMe\"}>\n        About\n      </Block> */}\n      {user && (\n      <Block to=\"/newPost\" $active={location.pathname === \"/newPost\"}>\n        post\n      </Block>\n      )}\n      <Block to=\"/register\" $active={location.pathname === \"/register\"}>\n        Register\n      </Block>\n      {!user && (\n      <Block to=\"/login\" $active={location.pathname === \"/login\"}>\n        Login\n      </Block>\n      )}\n      {user && (\n      <Block to=\"/login\" onClick={handleLogout}>\n        Logout\n      </Block>\n      )}\n      </NavSection2>\n    </HeaderContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}