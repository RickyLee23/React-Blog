{"ast":null,"code":"import _slicedToArray from\"/Users/lihongshen/Downloads/2022 \\u7528\\u9762\\u8A66\\u8CC7\\u6599/React-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/lihongshen/Downloads/2022 \\u7528\\u9762\\u8A66\\u8CC7\\u6599/React-Blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 12px 20px;\\n  margin: 8px 0;\\n  display: inline-block;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  margin-bottom: 10px;\\n  letter-spacing: 3px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  text-align: left;\\n  margin-top: 20vh;\\n  margin-bottom: 20vh;\\n  max-width:50vw;\\n  margin-right:auto;\\n  margin-left:auto;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  color: red;\\n  margin-top:50px;\\n  text-transform:capitalize;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import{register}from\"../../WebAPI\";import styled from\"styled-components\";import{useHistory}from\"react-router-dom\";import\"./Register.scss\";import ButtonDefault from\"../../share/button/ButtonDefault\";var ErrorMessage=styled.div(_templateObject());var RegisterPageWrapper=styled.div(_templateObject2());var InputInfo=styled.div(_templateObject3());var Input=styled.input(_templateObject4());export default function RegisterPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),nickname=_useState2[0],setNickname=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var history=useHistory();var handleSubmit=function handleSubmit(){setErrorMessage(null);register(nickname,username,password).then(function(data){if(data.ok===0){setErrorMessage(data.message);}else if(data.ok===1){history.push(\"/login\");}});};return/*#__PURE__*/_jsxs(RegisterPageWrapper,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"register__title\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(InputInfo,{children:[\"Nickname:\",/*#__PURE__*/_jsx(Input,{value:nickname,onChange:function onChange(e){return setNickname(e.target.value);}})]}),/*#__PURE__*/_jsxs(InputInfo,{children:[\"Username:\",/*#__PURE__*/_jsx(Input,{value:username,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(InputInfo,{children:[\"Password:\",/*#__PURE__*/_jsx(Input,{value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(ButtonDefault,{}),errorMessage&&/*#__PURE__*/_jsx(ErrorMessage,{children:errorMessage})]})]});}","map":{"version":3,"sources":["/Users/lihongshen/Downloads/2022 用面試資料/React-Blog/src/pages/RegisterPage/RegisterPage.js"],"names":["React","useState","register","styled","useHistory","ButtonDefault","ErrorMessage","div","RegisterPageWrapper","InputInfo","Input","input","RegisterPage","nickname","setNickname","username","setUsername","password","setPassword","errorMessage","setErrorMessage","history","handleSubmit","then","data","ok","message","push","e","target","value"],"mappings":"w6CAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,cAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CAEA,GAAMC,CAAAA,YAAY,CAAGH,MAAM,CAACI,GAAV,mBAAlB,CAKA,GAAMC,CAAAA,mBAAmB,CAAGL,MAAM,CAACI,GAAV,oBAAzB,CAQA,GAAME,CAAAA,SAAS,CAAGN,MAAM,CAACI,GAAV,oBAAf,CAIA,GAAMG,CAAAA,KAAK,CAAGP,MAAM,CAACQ,KAAV,oBAAX,CAUA,cAAe,SAASC,CAAAA,YAAT,EAAwB,eACLX,QAAQ,CAAC,EAAD,CADH,wCAC9BY,QAD8B,eACpBC,WADoB,8BAELb,QAAQ,CAAC,EAAD,CAFH,yCAE9Bc,QAF8B,eAEpBC,WAFoB,8BAGLf,QAAQ,CAAC,EAAD,CAHH,yCAG9BgB,QAH8B,eAGpBC,WAHoB,8BAIGjB,QAAQ,EAJX,yCAI9BkB,YAJ8B,eAIhBC,eAJgB,eAKrC,GAAMC,CAAAA,OAAO,CAAGjB,UAAU,EAA1B,CAEA,GAAMkB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBF,eAAe,CAAC,IAAD,CAAf,CACAlB,QAAQ,CAACW,QAAD,CAAWE,QAAX,CAAqBE,QAArB,CAAR,CAAuCM,IAAvC,CAA4C,SAACC,IAAD,CAAU,CACpD,GAAIA,IAAI,CAACC,EAAL,GAAY,CAAhB,CAAmB,CACjBL,eAAe,CAACI,IAAI,CAACE,OAAN,CAAf,CACD,CAFD,IAEO,IAAIF,IAAI,CAACC,EAAL,GAAY,CAAhB,CAAmB,CACxBJ,OAAO,CAACM,IAAR,CAAa,QAAb,EACD,CACF,CAND,EAOD,CATD,CAWA,mBACE,MAAC,mBAAD,yBACE,YAAK,SAAS,CAAC,iBAAf,sBADF,cAEE,cAAM,QAAQ,CAAEL,YAAhB,wBACE,MAAC,SAAD,qCAEE,KAAC,KAAD,EACE,KAAK,CAAET,QADT,CAEE,QAAQ,CAAE,kBAACe,CAAD,QAAOd,CAAAA,WAAW,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAFZ,EAFF,GADF,cAQE,MAAC,SAAD,qCAEE,KAAC,KAAD,EACE,KAAK,CAAEf,QADT,CAEE,QAAQ,CAAE,kBAACa,CAAD,QAAOZ,CAAAA,WAAW,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAFZ,EAFF,GARF,cAeE,MAAC,SAAD,qCAEE,KAAC,KAAD,EACE,KAAK,CAAEb,QADT,CAEE,QAAQ,CAAE,kBAACW,CAAD,QAAOV,CAAAA,WAAW,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAFZ,EAFF,GAfF,cAsBE,KAAC,aAAD,IAtBF,CAuBGX,YAAY,eAAI,KAAC,YAAD,WAAeA,YAAf,EAvBnB,GAFF,GADF,CA8BD","sourcesContent":["import React, { useState } from \"react\";\nimport { register } from \"../../WebAPI\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Register.scss\"\nimport ButtonDefault from \"../../share/button/ButtonDefault\";\n\nconst ErrorMessage = styled.div`\n  color: red;\n  margin-top:50px;\n  text-transform:capitalize;\n`;\nconst RegisterPageWrapper = styled.div`\n  text-align: left;\n  margin-top: 20vh;\n  margin-bottom: 20vh;\n  max-width:50vw;\n  margin-right:auto;\n  margin-left:auto;\n`;\nconst InputInfo = styled.div`\n  margin-bottom: 10px;\n  letter-spacing: 3px;\n`;\nconst Input = styled.input`\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n`;\n\nexport default function RegisterPage() {\n  const [nickname, setNickname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n\n  const handleSubmit = () => {\n    setErrorMessage(null);\n    register(nickname, username, password).then((data) => {\n      if (data.ok === 0) {\n        setErrorMessage(data.message);\n      } else if (data.ok === 1) {\n        history.push(\"/login\");\n      }\n    });\n  };\n\n  return (\n    <RegisterPageWrapper>\n      <div className=\"register__title\">Register</div>\n      <form onSubmit={handleSubmit}>\n        <InputInfo>\n          Nickname:\n          <Input\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n          />\n        </InputInfo>\n        <InputInfo>\n          Username:\n          <Input\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </InputInfo>\n        <InputInfo>\n          Password:\n          <Input\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </InputInfo>\n        <ButtonDefault></ButtonDefault>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      </form>\n    </RegisterPageWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}