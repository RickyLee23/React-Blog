(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{58:function(n,t,e){"use strict";e.r(t);var r=e(1),i=e(0),c=e.n(i),o=e(25),a=e.n(o),u=e(4),s=e(2),d=e(3),b=e(12),j=e(5),x="token",l=function(n){localStorage.setItem(x,n)},p=function(){return localStorage.getItem(x)},f="https://student-json-api.lidemy.me",h=function(n,t){var e=n*t-t,r=n*t;return fetch("".concat(f,"/posts?_sort=createdAt&_order=desc&_start=").concat(e,"&_end=").concat(r))},O=function(){var n=p();return fetch("".concat(f,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))};function g(){var n=Object(s.a)(["\n  display: block;\n  color: white;\n  background: none;\n  cursor: pointer;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  padding: 5px;\n  margin: 10px auto;\n  border-radius: 5px;\n  outline: none;\n  :active {\n    box-shadow: 0 5px #666;\n    transform: translateY(4px);\n  }\n"]);return g=function(){return n},n}function v(){var n=Object(s.a)(["\n  width: 50%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n"]);return v=function(){return n},n}function m(){var n=Object(s.a)(["\n  margin-bottom: 10px;\n  color: white;\n"]);return m=function(){return n},n}function w(){var n=Object(s.a)(["\n  text-align: center;\n  margin: 100px;\n  @media (min-width: 1250px) {\n    width: 50%;\n  }\n"]);return w=function(){return n},n}function k(){var n=Object(s.a)(["\n  color: red;\n"]);return k=function(){return n},n}var y=d.a.div(k()),S=d.a.div(w()),C=d.a.div(m()),z=d.a.input(v()),P=d.a.button(g());function T(){var n=Object(i.useState)(""),t=Object(u.a)(n,2),e=t[0],c=t[1],o=Object(i.useState)(""),a=Object(u.a)(o,2),s=a[0],d=a[1],b=Object(i.useState)(""),x=Object(u.a)(b,2),l=x[0],p=x[1],h=Object(i.useState)(),O=Object(u.a)(h,2),g=O[0],v=O[1],m=Object(j.f)();return Object(r.jsx)(S,{children:Object(r.jsxs)("form",{onSubmit:function(){v(null),function(n,t,e){return fetch("".concat(f,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:t,password:e})}).then((function(n){return n.json()}))}(e,s,l).then((function(n){0===n.ok?v(n.message):1===n.ok&&m.push("/login")}))},children:[Object(r.jsx)(C,{children:"Nickname:"}),Object(r.jsx)(z,{value:e,onChange:function(n){return c(n.target.value)}}),Object(r.jsx)(C,{children:"Username:"}),Object(r.jsx)(z,{value:s,onChange:function(n){return d(n.target.value)}}),Object(r.jsx)(C,{children:"Password:"}),Object(r.jsx)(z,{value:l,onChange:function(n){return p(n.target.value)}}),Object(r.jsx)(P,{children:"\u9001\u51fa"}),g&&Object(r.jsx)(y,{children:g})]})})}function L(){var n=Object(s.a)(["\n  padding: 20px;\n  color: white;\n"]);return L=function(){return n},n}function F(){var n=Object(s.a)(["\n  height: 300px;\n  padding: 10px auto;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n"]);return F=function(){return n},n}function E(){var n=Object(s.a)(["\n  text-align: center;\n  width: 500px;\n  margin: 80px;\n  box-shadow: 5px 10px rgba(255, 255, 255, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 5px;\n"]);return E=function(){return n},n}var $=d.a.div(E()),A=d.a.div(F()),I=d.a.div(L());function J(){return Object(r.jsxs)($,{children:[Object(r.jsx)(A,{}),Object(r.jsx)(I,{children:"\u9019\u88e1\u662f\u4e00\u500b\u8d85\u7c21\u6613\u90e8\u843d\u683c\uff3e\uff3e\u6b61\u8fce\u5149\u81e8"})]})}var M=Object(i.createContext)(null);function N(){var n=Object(s.a)(["\n  color: white;\n  display: block;\n  border: 0;\n  background: none;\n  cursor: pointer;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  padding: 5px;\n  margin: 10px auto;\n  border-radius: 5px;\n  outline: none;\n  :active {\n    box-shadow: 0 5px #666;\n    transform: translateY(4px);\n  }\n"]);return N=function(){return n},n}function U(){var n=Object(s.a)(["\n  color: white;\n"]);return U=function(){return n},n}function B(){var n=Object(s.a)(["\n  width: 80%;\n  padding: 12px 20px;\n  margin: 20px 0px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n"]);return B=function(){return n},n}function D(){var n=Object(s.a)(["\n  text-align: center;\n  margin: 100px;\n  font-weight: normal;\n  @media (min-width: 1250px) {\n    width: 50%;\n  }\n"]);return D=function(){return n},n}function Y(){var n=Object(s.a)(["\n  color: red;\n"]);return Y=function(){return n},n}var _=d.a.div(Y()),X=d.a.div(D()),R=d.a.input(B()),G=d.a.div(U()),H=d.a.button(N());function K(){var n=Object(i.useContext)(M).setUser,t=Object(i.useState)(""),e=Object(u.a)(t,2),c=e[0],o=e[1],a=Object(i.useState)(""),s=Object(u.a)(a,2),d=s[0],b=s[1],x=Object(i.useState)(),p=Object(u.a)(x,2),h=p[0],g=p[1],v=Object(j.f)();return Object(r.jsx)(X,{children:Object(r.jsxs)("form",{onSubmit:function(){g(null),function(n,t){return fetch("".concat(f,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})}).then((function(n){return n.json()}))}(c,d).then((function(t){if(0===t.ok)return g(t.message);l(t.token),O().then((function(t){if(1!==t.ok)return l(null),g(t.toString());n(t.data),v.push("/")}))}))},children:[Object(r.jsx)(G,{children:"Username:"}),Object(r.jsx)(R,{value:c,onChange:function(n){return o(n.target.value)}}),Object(r.jsx)(G,{children:"Password:"}),Object(r.jsx)(R,{type:"password",value:d,onChange:function(n){return b(n.target.value)}}),Object(r.jsx)(H,{children:"\u767b\u5165"}),h&&Object(r.jsx)(_,{children:h})]})})}function W(){var n=Object(s.a)(["\n  margin: 50px auto;\n  @media (max-width: 660px) {\n    margin: 100px auto;\n  }\n"]);return W=function(){return n},n}function Z(){var n=Object(s.a)(["\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  background: none;\n  cursor: pointer;\n  padding: 10px;\n  margin: 10px;\n  border-radius: 5px;\n  outline: none;\n  :active {\n    box-shadow: 0 5px rgba(255, 255, 255, 0.3);\n    transform: translateY(2px);\n  }\n"]);return Z=function(){return n},n}function q(){var n=Object(s.a)(["\n  margin: 20px 20px;\n  display: inline-block;\n  padding: 10px;\n  color: white;\n  font-size: 10px;\n"]);return q=function(){return n},n}function Q(){var n=Object(s.a)(["\n  font-size: 12px;\n  padding: 0px;\n  margin-top: 15px;\n"]);return Q=function(){return n},n}function V(){var n=Object(s.a)(["\n  font-size: 24px;\n  width: 400px;\n  text-align: left;\n  text-decoration: none;\n  color: rgba(255, 255, 255, 0.5);\n  :hover {\n    color: white;\n    transition-duration: 0.5s;\n  }\n  @media (max-width: 1250px) {\n    flex-direction: column;\n    margin-left: 50px;\n  }\n"]);return V=function(){return n},n}function nn(){var n=Object(s.a)(["\n  padding: 16px;\n  display: flex;\n  justify-content: space-around;\n  margin: 20px auto;\n  cursor: pointer;\n  border-radius: 5px;\n  color: rgba(255, 255, 255, 0.3);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  @media (max-width: 1250px) {\n    flex-direction: column;\n  }\n"]);return nn=function(){return n},n}function tn(){var n=Object(s.a)(["\n  z-index: 999;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return tn=function(){return n},n}function en(){var n=Object(s.a)(["\n  width: 60%;\n  margin-top: 80px;\n  text-decoration: none;\n  text-align: center;\n  @media (max-width: 1250px) {\n    width: 100%;\n  }\n  @media (max-width: 660px) {\n    margin-top: 200px;\n  }\n"]);return en=function(){return n},n}var rn=d.a.div(en()),cn=d.a.div(tn()),on=d.a.div(nn()),an=Object(d.a)(b.b)(V()),un=d.a.div(Q()),sn=d.a.div(q()),dn=d.a.button(Z()),bn=d.a.div(W());function jn(n){var t=n.post;return Object(r.jsxs)(on,{children:[Object(r.jsx)(an,{to:"/post/".concat(t.id),children:t.title}),Object(r.jsx)(un,{children:new Date(t.createdAt).toLocaleString()})]})}function xn(){var n=Object(i.useState)([]),t=Object(u.a)(n,2),e=t[0],c=t[1],o=Object(i.useState)(),a=Object(u.a)(o,2),s=a[0],d=a[1],b=Object(i.useState)(1),j=Object(u.a)(b,2),x=j[0],l=j[1],p=Object(i.useState)(!1),f=Object(u.a)(p,2),O=f[0],g=f[1];Object(i.useEffect)((function(){h(x,5).then((function(n){return d(Math.ceil(n.headers.get("X-Total-Count")/5))})),g(!0),h(x,5).then((function(n){return n.json()})).then((function(n){g(!1),c(n)}))}),[x]);function v(n,t){O||(l(n),g(!0),h(n,t).then((function(n){return n.json()})).then((function(n){g(!1),c(n)})))}return Object(r.jsxs)(rn,{children:[O&&Object(r.jsx)(cn,{children:"Loading...."}),e.map((function(n){return Object(r.jsx)(jn,{post:n},n.id)})),Object(r.jsxs)(bn,{children:[Object(r.jsx)(dn,{onClick:function(){v(1,5)},children:"First"}),Object(r.jsx)(dn,{onClick:function(){1!==x&&v(x-1,5)},children:"Pervious"}),Object(r.jsxs)(sn,{children:[x," / ",s]}),Object(r.jsx)(dn,{onClick:function(){x!==s&&v(x+1,5)},children:"Next"}),Object(r.jsx)(dn,{onClick:function(){v(s,5)},children:"Last"})]})]})}function ln(){var n=Object(s.a)(["\n  color:rgba(255,255,255,0.5);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  width: 50%;\n  margin: 80px;\n  margin-left:100px;\n  padding: 20px;\n  box-shadow: 2px 2px 2px 1px rgba(255, 255, 255, 0.2);\n  word-break: break-word;\n  @media (min-width:1250px){\n    width:50%;\n  }\n  \n"]);return ln=function(){return n},n}function pn(){var n=Object(s.a)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n"]);return pn=function(){return n},n}function fn(){var n=Object(s.a)(["\n  font-size: 30px;\n"]);return fn=function(){return n},n}var hn=d.a.div(fn()),On=d.a.div(pn()),gn=d.a.div(ln()),vn=function(n){var t=n.post;return t?Object(r.jsxs)(gn,{children:[Object(r.jsx)(hn,{children:t.title}),Object(r.jsx)(On,{children:new Date(t.createdAt).toLocaleString()}),Object(r.jsx)("div",{children:t.body})]}):null};function mn(){var n=Object(i.useState)(""),t=Object(u.a)(n,2),e=t[0],c=t[1],o=Object(j.h)().id;return Object(i.useEffect)((function(){(function(n){return fetch("".concat(f,"/posts/").concat(n)).then((function(n){return n.json()}))})(o).then((function(n){c(n)}))}),[o]),Object(r.jsx)(vn,{post:e})}function wn(){var n=Object(s.a)(["\n  color:white;\n  border: 0;\n  background: none;\n  cursor: pointer;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  padding: 5px;\n  margin: 10px;\n  border-radius: 5px;\n  outline: none;\n  :active {\n    box-shadow: 0 5px #666;\n    transform: translateY(4px);\n  }\n"]);return wn=function(){return n},n}function kn(){var n=Object(s.a)(["\n  width: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n"]);return kn=function(){return n},n}function yn(){var n=Object(s.a)(["\n  margin-bottom: 40px;\n"]);return yn=function(){return n},n}function Sn(){var n=Object(s.a)(["\n  margin: 0px auto;\n"]);return Sn=function(){return n},n}function Cn(){var n=Object(s.a)(["\n  margin: 100px 0px;\n  font-size: 20px;\n  text-align: center;\n  color: rgba(255, 255, 255, 0.4);\n  width:100%;\n  @media (min-width:1250px){\n    width:60%;\n  }\n"]);return Cn=function(){return n},n}function zn(){var n=Object(s.a)(["\n  color: red;\n"]);return zn=function(){return n},n}var Pn=d.a.div(zn()),Tn=d.a.div(Cn()),Ln=d.a.div(Sn()),Fn=d.a.div(yn()),En=d.a.textarea(kn()),$n=d.a.button(wn());function An(){var n=Object(i.useContext)(M).user,t=Object(i.useState)(""),e=Object(u.a)(t,2),c=e[0],o=e[1],a=Object(i.useState)(""),s=Object(u.a)(a,2),d=s[0],b=s[1],x=Object(i.useState)(),l=Object(u.a)(x,2),h=l[0],O=l[1],g=Object(j.f)();return n?Object(r.jsx)(Tn,{children:Object(r.jsxs)("form",{onSubmit:function(n){n.preventDefault(),O(null),function(n,t){var e=p();return fetch("".concat(f,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(e),"content-type":"application/json"},body:JSON.stringify({body:t,title:n})}).then((function(n){return n.json()}))}(c,d).then((function(n){0===n.ok&&O(n.message),g.push("/")}))},children:[Object(r.jsxs)(Fn,{children:["\u55e8\uff0c",n.username,"\uff0c\u6709\u4ec0\u9ebc\u8a71\u8981\u544a\u8a34\u5927\u5bb6\u7684\u55ce\uff1f"]}),Object(r.jsx)(Ln,{children:"Title:"}),Object(r.jsx)(En,{cols:"50",value:c,onChange:function(n){return o(n.target.value)}}),Object(r.jsx)(Ln,{children:"Content:"}),Object(r.jsx)(En,{rows:"10",cols:"50",value:d,onChange:function(n){return b(n.target.value)}}),Object(r.jsx)("div",{children:Object(r.jsx)($n,{children:"\u9001\u51fa"})}),h&&Object(r.jsx)(Pn,{children:h})]})}):null}function In(){var n=Object(s.a)(["\n  display: flex;\n"]);return In=function(){return n},n}function Jn(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: auto;\n  @media (max-width: 660px) {\n    margin: auto;\n  }\n"]);return Jn=function(){return n},n}function Mn(){var n=Object(s.a)(['\n  position: relative;\n  margin: 0px 20px;\n  font-size: 14px;\n  text-decoration: none;\n  color: rgba(255, 255, 255, 0.5);\n  cursor: pointer;\n\n  :hover {\n    color: white;\n  }\n  ::after {\n    content: "";\n  }\n  @media (max-width: 660px) {\n    margin: 10px 10px;\n    border: 1px solid white;\n    padding: 3px;\n    border-radius: 3px;\n  }\n\n  ',"\n"]);return Mn=function(){return n},n}function Nn(){var n=Object(s.a)(["\n  font-size: 25px;\n  margin-left: 20px;\n  margin-right: 40px;\n  color: rgba(255, 255, 255, 0.8);\n"]);return Nn=function(){return n},n}function Un(){var n=Object(s.a)(["\n  height: 10%;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  background: rgba(0, 0, 0, 0.35);\n  box-sizing: border-box;\n  @media (max-width: 660px) {\n    flex-direction: column;\n    height: auto;\n    margin-bottom: 50px;\n    background: rgba(0, 0, 0, 1);\n  }\n"]);return Un=function(){return n},n}var Bn=d.a.div(Un()),Dn=d.a.span(Nn()),Yn=Object(d.a)(b.b)(Mn(),(function(n){return n.$active&&'\n    color:white;\n    ::after {\n      content:"";\n      width:100%;\n      position:absolute;\n      bottom:0;\n      left:0;\n      height:0.5px;\n      background:white;\n      transform: scaleX(0);\n      transform-origin: right center;\n      transition: transform .6s;\n      transition-duration: 1s;\n    }\n    \n    '})),_n=d.a.div(Jn()),Xn=d.a.div(In());function Rn(){var n=Object(j.f)(),t=Object(j.g)(),e=Object(i.useContext)(M),c=e.user,o=e.setUser;return Object(r.jsxs)(Bn,{children:[Object(r.jsx)(Dn,{children:"This is your first blog"}),Object(r.jsxs)(_n,{children:[Object(r.jsx)(Yn,{to:"/",$active:"/"===t.pathname,children:"Home"}),Object(r.jsx)(Yn,{to:"/aboutMe",$active:"/aboutMe"===t.pathname,children:"About me"}),c&&Object(r.jsx)(Yn,{to:"/newPost",$active:"/newPost"===t.pathname,children:"Release"})]}),Object(r.jsxs)(Xn,{children:[Object(r.jsx)(Yn,{to:"/register",$active:"/register"===t.pathname,children:"Register"}),!c&&Object(r.jsx)(Yn,{to:"/login",$active:"/login"===t.pathname,children:"Login"}),c&&Object(r.jsx)(Yn,{onClick:function(){l(""),o(""),"/"!==t.pathname&&n.push("/")},children:"Logout"})]})]})}function Gn(){var n=Object(s.a)(["\n  color:rgba(255,255,255,0,5);\n  font-size:10px;\n"]);return Gn=function(){return n},n}function Hn(){var n=Object(s.a)(["\n  color:white;\n  margin-left:40px;\n  font-size:10px;\n"]);return Hn=function(){return n},n}function Kn(){var n=Object(s.a)(["\n  justify-content:center;\n  align-items:center;\n  position:fixed;\n  bottom:0px;\n  left:0px;\n  height: 50px;\n  background: rgba(0,0,0,0.35);\n  color:rgba(255,255,255,0.5);\n  width: 100%;\n  text-align: center;\n  display:flex;\n  @media (max-width:660px){\n    height:auto;\n    flex-direction:column;\n    background: rgba(0,0,0,1);\n  }\n"]);return Kn=function(){return n},n}var Wn=d.a.div(Kn()),Zn=d.a.div(Hn()),qn=d.a.div(Gn());function Qn(){return Object(r.jsxs)(Wn,{children:[Object(r.jsx)(qn,{children:"Copyright 2020, Example Corporation"}),Object(r.jsx)(Zn,{children:"Facebook"}),Object(r.jsx)(Zn,{children:"Twitter"}),Object(r.jsx)(Zn,{children:"Instagram"}),Object(r.jsx)(Zn,{children:"Flickr"})]})}var Vn=e.p+"static/media/background.5c66d836.jpg",nt=e(29),tt=e.n(nt);function et(){var n=Object(s.a)(["\n  @media (max-width: 1250px) {\n    display:none;\n  }\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.15);\n  top: 250px;\n  right: 0px;\n  width: 550px;\n  height: 100%;\n"]);return et=function(){return n},n}function rt(){var n=Object(s.a)(["\n  min-height: 650px;\n"]);return rt=function(){return n},n}function it(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return it=function(){return n},n}function ct(){var n=Object(s.a)(["\n  padding-top: 64px;\n"]);return ct=function(){return n},n}function ot(){var n=Object(s.a)(['\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  z-index: -999;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-image: url("','");\n']);return ot=function(){return n},n}var at=d.a.div(ot(),Vn),ut=d.a.div(ct()),st=d.a.div(it()),dt=d.a.div(rt()),bt=d.a.div(et());var jt=function(){var n=c.a.useState(null),t=Object(u.a)(n,2),e=t[0],o=t[1];return Object(i.useEffect)((function(){O().then((function(n){n.ok&&o(n.data)}))}),[]),Object(r.jsx)(M.Provider,{value:{user:e,setUser:o},children:Object(r.jsxs)(ut,{children:[Object(r.jsx)(at,{}),Object(r.jsx)(b.a,{children:Object(r.jsxs)(st,{children:[Object(r.jsx)(Rn,{}),Object(r.jsx)(dt,{children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{exact:!0,path:"/",children:Object(r.jsx)(xn,{})}),Object(r.jsx)(j.a,{path:"/post/:id",children:Object(r.jsx)(mn,{})}),Object(r.jsx)(j.a,{exact:!0,path:"/aboutMe",children:Object(r.jsx)(J,{})}),Object(r.jsx)(j.a,{exact:!0,path:"/newPost",children:Object(r.jsx)(An,{})}),Object(r.jsx)(j.a,{path:"/register",children:Object(r.jsx)(T,{})}),Object(r.jsx)(j.a,{path:"/login",children:Object(r.jsx)(K,{})})]})}),Object(r.jsx)(bt,{children:Object(r.jsx)(tt.a,{url:"https://www.youtube.com/watch?v=7KXGZAEWzn0",playing:!0,volume:0,width:"450px",heght:"300px"})}),Object(r.jsx)(Qn,{})]})})]})})},xt=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,59)).then((function(t){var e=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;e(n),r(n),i(n),c(n),o(n)}))};a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(jt,{})}),document.getElementById("root")),xt()}},[[58,1,2]]]);
//# sourceMappingURL=main.5f63f83b.chunk.js.map